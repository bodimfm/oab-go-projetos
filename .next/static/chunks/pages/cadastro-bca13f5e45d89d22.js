(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{3919:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastro",function(){return a(177)}])},9008:function(e,s,a){e.exports=a(494)},177:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(5893),o=a(7294),l=a(4176),r=a(1664),n=a(9008),i=a(2731);function c(){let[e,s]=(0,o.useState)(""),[a,c]=(0,o.useState)(""),[d,m]=(0,o.useState)(""),[u,x]=(0,o.useState)([]),[h,p]=(0,o.useState)(!0),{cadastrarUsuario:b,loading:g}=(0,l.a)(),[f,j]=(0,o.useState)(""),[N,v]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{try{p(!0);let{data:e}=await i.h.getComissoes();x(e)}catch(e){console.error("Erro ao carregar comiss\xf5es:",e)}finally{p(!1)}})()},[]);let y=async t=>{if(t.preventDefault(),j(""),v(""),!e||!a||!d){j("Preencha todos os campos.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){j("Formato de e-mail inv\xe1lido.");return}let o=await b({nome_completo:e,email:a,comissao_id:d});o.error?j(o.error):(v("Cadastro realizado com sucesso! Seu nome de usu\xe1rio \xe9: ".concat(o.data.nome_usuario,". \n        Use a senha padr\xe3o OABGONEXT para seu primeiro acesso.")),s(""),c(""),m(""))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{children:(0,t.jsx)("title",{children:"Cadastro | OAB-GO Projetos"})}),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/images/logo-oabgo.png",alt:"OAB-GO",className:"h-20 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Cadastro de Acesso"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Crie seu acesso ao sistema de projetos"})]}),f&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:(0,t.jsx)("span",{className:"block sm:inline",children:f})}),N&&(0,t.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[(0,t.jsx)("span",{className:"block sm:inline",children:N}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(r,{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ir para a p\xe1gina de login"})})]}),(0,t.jsxs)("form",{onSubmit:y,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nome",children:"Nome Completo"}),(0,t.jsx)("input",{id:"nome",type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Seu nome completo",value:e,onChange:e=>s(e.target.value),disabled:g})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"E-mail"}),(0,t.jsx)("input",{id:"email",type:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"seu.email@exemplo.com",value:a,onChange:e=>c(e.target.value),disabled:g}),(0,t.jsx)("p",{className:"text-xs italic text-gray-600 mt-1",children:"Ser\xe1 usado para recupera\xe7\xe3o de senha"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"comissao",children:"Comiss\xe3o"}),(0,t.jsxs)("select",{id:"comissao",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:d,onChange:e=>m(e.target.value),disabled:g||h,children:[(0,t.jsx)("option",{value:"",children:"Selecione uma comiss\xe3o"}),u.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nome},e.id))]}),(0,t.jsx)("p",{className:"text-xs italic text-gray-600 mt-1",children:"O nome da comiss\xe3o ser\xe1 usado como seu nome de usu\xe1rio"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:g||h,children:g?"Cadastrando...":"Cadastrar"}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["J\xe1 possui conta?"," ",(0,t.jsx)(r,{href:"/login",className:"text-blue-600 hover:text-blue-800",children:"Fa\xe7a login"})]})})]})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3919)}),_N_E=e.O()}]);