(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{1544:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/alterar-senha",function(){return s(8214)}])},9008:function(e,a,s){e.exports=s(494)},8214:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var n=s(5893),t=s(7294),r=s(4176),l=s(1163),o=s(9008);function c(){let[e,a]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),{user:i,alterarSenha:d,loading:u,isAuthenticated:h}=(0,r.a)(),[m,x]=(0,t.useState)(""),[p,b]=(0,t.useState)(""),f=(0,l.useRouter)();(0,t.useEffect)(()=>{h||f.query.token||f.push("/login")},[h,f]);let g=async a=>{if(a.preventDefault(),x(""),b(""),!e||!s){x("Preencha todos os campos.");return}if(e.length<6){x("A senha deve ter pelo menos 6 caracteres.");return}if(e!==s){x("As senhas n\xe3o coincidem.");return}let n=await d(e);n.error?x(n.error):(b("Senha alterada com sucesso!"),setTimeout(()=>{f.push("/")},2e3))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{children:(0,n.jsx)("title",{children:"Alterar Senha | OAB-GO Projetos"})}),(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,n.jsxs)("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("img",{src:"/images/logo-oabgo.png",alt:"OAB-GO",className:"h-20 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Alterar Senha"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:(null==i?void 0:i.primeiro_acesso)?"Como \xe9 seu primeiro acesso, voc\xea precisa alterar sua senha":"Escolha uma nova senha para sua conta"})]}),m&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:(0,n.jsx)("span",{className:"block sm:inline",children:m})}),p&&(0,n.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[(0,n.jsx)("span",{className:"block sm:inline",children:p}),(0,n.jsx)("p",{className:"text-sm mt-1",children:"Redirecionando..."})]}),(0,n.jsxs)("form",{onSubmit:g,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"senha",children:"Nova Senha"}),(0,n.jsx)("input",{id:"senha",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"••••••••",value:e,onChange:e=>a(e.target.value),disabled:u}),(0,n.jsx)("p",{className:"text-xs italic text-gray-600 mt-1",children:"M\xednimo de 6 caracteres"})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmacaoSenha",children:"Confirme a Nova Senha"}),(0,n.jsx)("input",{id:"confirmacaoSenha",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"••••••••",value:s,onChange:e=>c(e.target.value),disabled:u})]}),(0,n.jsx)("div",{className:"flex flex-col gap-4",children:(0,n.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:u,children:u?"Alterando...":"Alterar Senha"})})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1544)}),_N_E=e.O()}]);