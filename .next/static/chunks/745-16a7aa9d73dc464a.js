"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{8745:function(e,a,r){r.d(a,{Z:function(){return i}});var t=r(7437);r(2265);var s=r(9501),o=r(8316);function i(e){var a,r;let{suggestion:i,onSuccess:l,onCancel:c}=e,n=!!i,{register:d,handleSubmit:m,reset:u,formState:{errors:p}}=(0,s.cI)({defaultValues:n?{...i,compativel_com:(null===(a=i.compativel_com)||void 0===a?void 0:a.join(", "))||"",tags:(null===(r=i.tags)||void 0===r?void 0:r.join(", "))||""}:{nome:"",descricao:"",tipo:"api",area_aplicacao:"",detalhes_tecnicos:"",url_documentacao:"",beneficios:"",nivel_complexidade:"media",custo_estimado:"",tempo_implementacao:"",pre_requisitos:"",compativel_com:"",tags:"",ativa:!0}}),g=(0,o.Ib)(),x=(0,o.fD)();return(0,t.jsxs)("form",{onSubmit:m(e=>{let a={...e,compativel_com:e.compativel_com?e.compativel_com.split(",").map(e=>e.trim()).filter(Boolean):[],tags:e.tags?e.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};n?x.mutate({id:i.id,updates:a},{onSuccess:()=>{null==l||l()}}):g.mutate(a,{onSuccess:()=>{u(),null==l||l()}})}),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Integra\xe7\xe3o*"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-md ".concat(p.nome?"border-red-500":"border-gray-300"),...d("nome",{required:"Nome \xe9 obrigat\xf3rio"})}),p.nome&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.nome.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Integra\xe7\xe3o*"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border rounded-md ".concat(p.tipo?"border-red-500":"border-gray-300"),...d("tipo",{required:"Tipo \xe9 obrigat\xf3rio"}),children:[(0,t.jsx)("option",{value:"api",children:"API"}),(0,t.jsx)("option",{value:"software",children:"Software"}),(0,t.jsx)("option",{value:"servico",children:"Servi\xe7o"}),(0,t.jsx)("option",{value:"outra",children:"Outra"})]}),p.tipo&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.tipo.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc1rea de Aplica\xe7\xe3o*"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-md ".concat(p.area_aplicacao?"border-red-500":"border-gray-300"),...d("area_aplicacao",{required:"\xc1rea de aplica\xe7\xe3o \xe9 obrigat\xf3ria"})}),p.area_aplicacao&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.area_aplicacao.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xedvel de Complexidade*"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border rounded-md ".concat(p.nivel_complexidade?"border-red-500":"border-gray-300"),...d("nivel_complexidade",{required:"N\xedvel de complexidade \xe9 obrigat\xf3rio"}),children:[(0,t.jsx)("option",{value:"baixa",children:"Baixa"}),(0,t.jsx)("option",{value:"media",children:"M\xe9dia"}),(0,t.jsx)("option",{value:"alta",children:"Alta"})]}),p.nivel_complexidade&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.nivel_complexidade.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Documenta\xe7\xe3o"}),(0,t.jsx)("input",{type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-md",...d("url_documentacao")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compat\xedvel com (separar por v\xedrgulas)"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Comiss\xe3o de Direito Digital, Comiss\xe3o de IA",...d("compativel_com")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separar por v\xedrgulas)"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: automa\xe7\xe3o, documentos, IA",...d("tags")})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("input",{type:"checkbox",id:"ativa",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",...d("ativa")}),(0,t.jsx)("label",{htmlFor:"ativa",className:"ml-2 block text-sm text-gray-700",children:"Ativa (vis\xedvel para usu\xe1rios)"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o*"}),(0,t.jsx)("textarea",{rows:4,className:"w-full px-4 py-2 border rounded-md ".concat(p.descricao?"border-red-500":"border-gray-300"),...d("descricao",{required:"Descri\xe7\xe3o \xe9 obrigat\xf3ria"})}),p.descricao&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.descricao.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Benef\xedcios (separar por ponto e v\xedrgula)"}),(0,t.jsx)("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Redu\xe7\xe3o de tempo; Maior precis\xe3o; Melhor experi\xeancia",...d("beneficios")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detalhes T\xe9cnicos"}),(0,t.jsx)("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md",...d("detalhes_tecnicos")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9-requisitos (separar por ponto e v\xedrgula)"}),(0,t.jsx)("textarea",{rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Aprova\xe7\xe3o da diretoria; Recursos dispon\xedveis",...d("pre_requisitos")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo Estimado"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Baixo, M\xe9dio, Alto ou valor espec\xedfico",...d("custo_estimado")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Implementa\xe7\xe3o"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 15 a 30 dias",...d("tempo_implementacao")})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[(0,t.jsx)("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",onClick:c,children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:g.isPending||x.isPending,children:g.isPending||x.isPending?"Salvando...":n?"Atualizar Sugest\xe3o":"Criar Sugest\xe3o"})]})]})}},8316:function(e,a,r){r.d(a,{Ib:function(){return d},Jj:function(){return u},BD:function(){return n},fB:function(){return c},fD:function(){return m}});var t=r(1713),s=r(9827),o=r(1770);let i=(0,r(7026).eI)("https://qnsbjljmnflihwcovuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2JqbGptbmZsaWh3Y292dXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NjcyNjQsImV4cCI6MjA2MjU0MzI2NH0.UWGXOyL8J7e11W_CE3zIo5bn-5LwKQ1YtAS1V72DTtk"),l={async getAllSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.from("sugestoes_integracao").select("*").eq("ativa",!0);e.tipo&&(a=a.eq("tipo",e.tipo)),e.nivel_complexidade&&(a=a.eq("nivel_complexidade",e.nivel_complexidade)),e.area_aplicacao&&(a=a.ilike("area_aplicacao","%".concat(e.area_aplicacao,"%"))),e.search&&(a=a.or("nome.ilike.%".concat(e.search,"%,descricao.ilike.%").concat(e.search,"%"))),a=e.orderBy?a.order(e.orderBy,{ascending:e.ascending}):a.order("created_at",{ascending:!1});let{data:r,error:t}=await a;if(t)throw console.error("Erro ao buscar sugest\xf5es:",t),t;return r},async getSuggestionsByCompatibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let a=e.map(e=>"compativel_com.cs.{".concat(e,"}")).join(","),{data:r,error:t}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(t)throw console.error("Erro ao buscar por compatibilidade:",t),t;return r},async getSuggestionsByTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let a=e.map(e=>"tags.cs.{".concat(e,"}")).join(","),{data:r,error:t}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(t)throw console.error("Erro ao buscar por tags:",t),t;return r},async getSuggestionById(e){let{data:a,error:r}=await i.from("sugestoes_integracao").select("*").eq("id",e).single();if(r)throw console.error("Erro ao buscar sugest\xe3o:",r),r;return a},async createSuggestion(e){let{data:a,error:r}=await i.from("sugestoes_integracao").insert([e]).select();if(r)throw console.error("Erro ao criar sugest\xe3o:",r),r;return a[0]},async updateSuggestion(e,a){let{data:r,error:t}=await i.from("sugestoes_integracao").update(a).eq("id",e).select();if(t)throw console.error("Erro ao atualizar sugest\xe3o:",t),t;return r[0]},async deactivateSuggestion(e){let{data:a,error:r}=await i.from("sugestoes_integracao").update({ativa:!1}).eq("id",e).select();if(r)throw console.error("Erro ao desativar sugest\xe3o:",r),r;return a[0]},async getSuggestionStats(){let{data:e,error:a}=await i.rpc("get_suggestion_stats_by_type"),{data:r,error:t}=await i.rpc("get_suggestion_stats_by_complexity");if(a||t)throw console.error("Erro ao buscar estat\xedsticas:",a||t),a||t;return{byType:e||[],byComplexity:r||[]}}};function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.a)({queryKey:["suggestions",e],queryFn:()=>l.getAllSuggestions(e)})}function n(e){return(0,t.a)({queryKey:["suggestion",e],queryFn:()=>l.getSuggestionById(e),enabled:!!e})}function d(){let e=(0,s.NL)();return(0,o.D)({mutationFn:e=>l.createSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}function m(){let e=(0,s.NL)();return(0,o.D)({mutationFn:e=>{let{id:a,updates:r}=e;return l.updateSuggestion(a,r)},onSuccess:a=>{e.invalidateQueries({queryKey:["suggestions"]}),e.invalidateQueries({queryKey:["suggestion",a.id]})}})}function u(){let e=(0,s.NL)();return(0,o.D)({mutationFn:e=>l.deactivateSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}}}]);