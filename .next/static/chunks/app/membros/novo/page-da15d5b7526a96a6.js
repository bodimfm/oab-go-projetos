(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{2377:function(e,o,r){Promise.resolve().then(r.bind(r,4626))},9376:function(e,o,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(o,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(o,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(o,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(o,{useSearchParams:function(){return a.useSearchParams}})},4626:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return t}});var a=r(7437),s=r(2265),n=r(9376),i=r(7648),l=r(4933);function c(){let e=(0,n.useRouter)(),o=(0,n.useSearchParams)().get("comissao_id"),[r,c]=(0,s.useState)({comissao_id:o||"",nome:"",cargo:"",email:"",telefone:"",inscricao_oab:""}),[t,m]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1),[b,h]=(0,s.useState)(!0),[x,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{h(!0);let{data:e}=await l.h.getComissoes();m(e)}catch(e){console.error("Erro ao carregar comiss\xf5es:",e),f("N\xe3o foi poss\xedvel carregar as comiss\xf5es. Tente novamente mais tarde.")}finally{h(!1)}})()},[]);let g=e=>{let{name:o,value:a}=e.target;c({...r,[o]:a})},p=async o=>{if(o.preventDefault(),!r.nome.trim()){alert("O nome do membro \xe9 obrigat\xf3rio.");return}if(!r.comissao_id){alert("Selecione uma comiss\xe3o.");return}try{u(!0),f(null),await l.h.adicionarMembro(r),alert("Membro adicionado com sucesso!"),e.push("/membros?comissao_id=".concat(r.comissao_id))}catch(e){console.error("Erro ao adicionar membro:",e),f(e.message||"Ocorreu um erro ao adicionar o membro. Tente novamente.")}finally{u(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(i.default,{href:"/membros",className:"text-blue-600 hover:text-blue-800 mb-2 inline-block",children:"← Voltar para Membros"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Adicionar Novo Membro"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Preencha o formul\xe1rio abaixo para adicionar um novo membro a uma comiss\xe3o"})]}),x&&(0,a.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert",children:(0,a.jsx)("p",{children:x})}),(0,a.jsxs)("form",{onSubmit:p,className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"comissao_id",className:"block text-gray-700 font-medium mb-2",children:"Comiss\xe3o *"}),(0,a.jsxs)("select",{id:"comissao_id",name:"comissao_id",value:r.comissao_id,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:b,children:[(0,a.jsx)("option",{value:"",children:"Selecione uma comiss\xe3o"}),t.map(e=>(0,a.jsx)("option",{value:e.id,children:e.nome},e.id))]}),b&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Carregando comiss\xf5es..."})]}),(0,a.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"nome",className:"block text-gray-700 font-medium mb-2",children:"Nome do Membro *"}),(0,a.jsx)("input",{type:"text",id:"nome",name:"nome",value:r.nome,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cargo",className:"block text-gray-700 font-medium mb-2",children:"Cargo na Comiss\xe3o"}),(0,a.jsx)("input",{type:"text",id:"cargo",name:"cargo",value:r.cargo,onChange:g,placeholder:"Ex: Presidente, Secret\xe1rio, Membro",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"inscricao_oab",className:"block text-gray-700 font-medium mb-2",children:"Inscri\xe7\xe3o na OAB"}),(0,a.jsx)("input",{type:"text",id:"inscricao_oab",name:"inscricao_oab",value:r.inscricao_oab,onChange:g,placeholder:"Ex: GO12345",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"telefone",className:"block text-gray-700 font-medium mb-2",children:"Telefone"}),(0,a.jsx)("input",{type:"tel",id:"telefone",name:"telefone",value:r.telefone,onChange:g,placeholder:"Ex: (62) 99999-9999",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(i.default,{href:"/membros",className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors disabled:bg-blue-400",children:d?"Salvando...":"Adicionar Membro"})]})]})]})}function t(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{children:"Carregando..."}),children:(0,a.jsx)(c,{})})}}},function(e){e.O(0,[648,933,971,117,744],function(){return e(e.s=2377)}),_N_E=e.O()}]);