(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{7322:function(e,s,a){Promise.resolve().then(a.bind(a,3262))},9376:function(e,s,a){"use strict";var t=a(5475);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},3262:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var t=a(7437),r=a(2265),c=a(9376),i=a(7648),o=a(4933);function n(){let e=(0,c.useSearchParams)().get("comissao_id"),[s,a]=(0,r.useState)([]),[n,d]=(0,r.useState)([]),[l,m]=(0,r.useState)(e||""),[x,u]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let{data:e}=await o.h.getComissoes();d(e)}catch(e){console.error("Erro ao carregar comiss\xf5es:",e),p("N\xe3o foi poss\xedvel carregar as comiss\xf5es. Tente novamente mais tarde.")}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{u(!0);let{data:e}=await o.h.getMembros(l||null);a(e)}catch(e){console.error("Erro ao carregar membros:",e),p("N\xe3o foi poss\xedvel carregar os membros. Tente novamente mais tarde.")}finally{u(!1)}})()},[l]);let g=s.reduce((e,s)=>{let a=s.comissao_id;return e[a]||(e[a]={id:a,nome:s.comissao_nome,descricao:s.comissao_descricao,area_atuacao:s.area_atuacao,membros:[]}),e[a].membros.push(s),e},{});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Membros de Comiss\xf5es"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Visualize os membros de todas as comiss\xf5es da OAB-GO"})]}),(0,t.jsx)("div",{className:"mt-4 md:mt-0",children:(0,t.jsx)(i.default,{href:"/membros/novo",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors",children:"+ Adicionar Membro"})})]}),(0,t.jsxs)("div",{className:"mb-6 bg-white p-4 rounded-md shadow-sm",children:[(0,t.jsx)("div",{className:"text-gray-700 mb-2",children:"Filtrar por comiss\xe3o:"}),(0,t.jsxs)("select",{value:l,onChange:e=>{m(e.target.value)},className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Todas as comiss\xf5es"}),n.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),x?(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Carregando membros..."})}):h?(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center py-12",children:(0,t.jsx)("p",{className:"text-red-500",children:h})}):0===Object.keys(g).length?(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Nenhum membro encontrado para os filtros selecionados."})}):(0,t.jsx)("div",{className:"space-y-8",children:Object.values(g).map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 border-b border-blue-100",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e.nome}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:e.descricao||"Sem descri\xe7\xe3o dispon\xedvel"}),e.area_atuacao&&(0,t.jsxs)("div",{className:"mt-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"\xc1reas de atua\xe7\xe3o: "}),(0,t.jsx)("span",{className:"text-gray-600",children:e.area_atuacao})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscri\xe7\xe3o OAB"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Ingresso"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.membros.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.membro_nome})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.cargo||"-"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.email&&(0,t.jsx)("div",{children:e.email}),e.telefone&&(0,t.jsx)("div",{children:e.telefone}),!e.email&&!e.telefone&&"-"]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.inscricao_oab||"-"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.data_ingresso?new Date(e.data_ingresso).toLocaleDateString("pt-BR"):"-"})})]},e.membro_id))})]})})]},e.id))})]})}function d(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Carregando..."}),children:(0,t.jsx)(n,{})})}}},function(e){e.O(0,[648,933,971,117,744],function(){return e(e.s=7322)}),_N_E=e.O()}]);