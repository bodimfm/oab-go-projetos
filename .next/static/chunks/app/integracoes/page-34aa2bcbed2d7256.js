(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{6297:function(e,a,s){Promise.resolve().then(s.bind(s,6347))},6347:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var t=s(7437),l=s(2265),r=s(8316),i=s(7648);function n(e){let{suggestion:a}=e;return(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-md text-xs font-medium ".concat({api:"bg-blue-100 text-blue-800",software:"bg-purple-100 text-purple-800",servico:"bg-indigo-100 text-indigo-800",outra:"bg-gray-100 text-gray-800"}[a.tipo]||"bg-gray-100"),children:a.tipo.charAt(0).toUpperCase()+a.tipo.slice(1)}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded-md text-xs font-medium ".concat({baixa:"bg-green-100 text-green-800",media:"bg-yellow-100 text-yellow-800",alta:"bg-red-100 text-red-800"}[a.nivel_complexidade]||"bg-gray-100"),children:["Complexidade ",{baixa:"Baixa",media:"M\xe9dia",alta:"Alta"}[a.nivel_complexidade]||a.nivel_complexidade]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:a.nome}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:a.descricao}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"\xc1rea de Aplica\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a.area_aplicacao})]}),a.tags&&a.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[a.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md text-xs",children:e},e)),a.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md text-xs",children:["+",a.tags.length-3]})]}),(0,t.jsx)(i.default,{href:"/integracoes/".concat(a.id),className:"block w-full px-4 py-2 bg-blue-600 text-white text-center rounded-md hover:bg-blue-700 transition-colors",children:"Ver detalhes"})]})})}function o(e){let{filters:a,onFilterChange:s}=e,l=e=>{s({tipo:a.tipo===e?null:e})},r=e=>{s({nivel_complexidade:a.nivel_complexidade===e?null:e})},i=e=>{s({area_aplicacao:a.area_aplicacao===e?null:e})};return(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Filtros"}),(0,t.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-800",onClick:()=>{s({tipo:null,nivel_complexidade:null,area_aplicacao:null})},children:"Limpar"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-3",children:"Tipo de Integra\xe7\xe3o"}),(0,t.jsx)("div",{className:"space-y-2",children:[{value:"api",label:"API"},{value:"software",label:"Software"},{value:"servico",label:"Servi\xe7o"},{value:"outra",label:"Outra"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:a.tipo===e.value,onChange:()=>l(e.value)}),(0,t.jsx)("span",{className:"ml-2 text-gray-700",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-3",children:"N\xedvel de Complexidade"}),(0,t.jsx)("div",{className:"space-y-2",children:[{value:"baixa",label:"Baixa"},{value:"media",label:"M\xe9dia"},{value:"alta",label:"Alta"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:a.nivel_complexidade===e.value,onChange:()=>r(e.value)}),(0,t.jsx)("span",{className:"ml-2 text-gray-700",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-3",children:"\xc1rea de Aplica\xe7\xe3o"}),(0,t.jsx)("div",{className:"space-y-2",children:[{value:"Direito Digital",label:"Direito Digital"},{value:"Prote\xe7\xe3o de Dados",label:"Prote\xe7\xe3o de Dados"},{value:"Propriedade Intelectual",label:"Propriedade Intelectual"},{value:"Intelig\xeancia Artificial",label:"Intelig\xeancia Artificial"},{value:"Tecnologia",label:"Tecnologia"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:a.area_aplicacao===e.value,onChange:()=>i(e.value)}),(0,t.jsx)("span",{className:"ml-2 text-gray-700",children:e.label})]},e.value))})]})]})]})}function c(){let[e,a]=(0,l.useState)({tipo:null,nivel_complexidade:null,area_aplicacao:null,search:"",orderBy:"created_at",ascending:!1}),{data:s,isLoading:i,isError:c,error:d}=(0,r.fB)(e),u=e=>{a(a=>({...a,search:e}))},g=(e,s)=>{a(a=>({...a,orderBy:e,ascending:"asc"===s}))};return i?(0,t.jsx)("div",{className:"flex justify-center p-10",children:"Carregando sugest\xf5es..."}):c?(0,t.jsxs)("div",{className:"text-red-500 p-5",children:["Erro ao carregar sugest\xf5es: ",d.message]}):(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 p-4",children:[(0,t.jsx)("div",{className:"w-full md:w-1/4 lg:w-1/5",children:(0,t.jsx)(o,{filters:e,onFilterChange:e=>{a(a=>({...a,...e}))}})}),(0,t.jsxs)("div",{className:"w-full md:w-3/4 lg:w-4/5",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Sugest\xf5es de Integra\xe7\xe3o"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Pesquisar sugest\xf5es...",className:"px-3 py-2 border rounded-md",value:e.search,onChange:e=>u(e.target.value)}),(0,t.jsxs)("select",{className:"px-3 py-2 border rounded-md",value:"".concat(e.orderBy,"_").concat(e.ascending?"asc":"desc"),onChange:e=>{let[a,s]=e.target.value.split("_");g(a,s)},children:[(0,t.jsx)("option",{value:"created_at_desc",children:"Mais recentes"}),(0,t.jsx)("option",{value:"created_at_asc",children:"Mais antigas"}),(0,t.jsx)("option",{value:"nome_asc",children:"Nome A-Z"}),(0,t.jsx)("option",{value:"nome_desc",children:"Nome Z-A"})]})]})]}),(0,t.jsxs)("div",{className:"mt-2 text-gray-600",children:[(null==s?void 0:s.length)||0," sugest\xf5es encontradas"]})]}),(null==s?void 0:s.length)===0?(0,t.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Nenhuma sugest\xe3o encontrada com os filtros atuais."}),(0,t.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>a({tipo:null,nivel_complexidade:null,area_aplicacao:null,search:"",orderBy:"created_at",ascending:!1}),children:"Limpar filtros"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==s?void 0:s.map(e=>(0,t.jsx)(n,{suggestion:e},e.id))})]})]})}var d=s(2979),u=s(9827);let g=new d.S;function m(){return(0,t.jsx)(u.aH,{client:g,children:(0,t.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Integra\xe7\xf5es entre Comiss\xf5es"}),(0,t.jsx)(i.default,{href:"/integracoes/nova",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Nova Sugest\xe3o"})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Aqui voc\xea encontra sugest\xf5es de integra\xe7\xe3o entre projetos das comiss\xf5es da OAB-GO. Explore as possibilidades ou sugira uma nova integra\xe7\xe3o."}),(0,t.jsx)(c,{})]})})}},8316:function(e,a,s){"use strict";s.d(a,{Ib:function(){return d},Jj:function(){return g},BD:function(){return c},fB:function(){return o},fD:function(){return u}});var t=s(1713),l=s(9827),r=s(1770);let i=(0,s(7026).eI)("https://qnsbjljmnflihwcovuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2JqbGptbmZsaWh3Y292dXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NjcyNjQsImV4cCI6MjA2MjU0MzI2NH0.UWGXOyL8J7e11W_CE3zIo5bn-5LwKQ1YtAS1V72DTtk"),n={async getAllSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.from("sugestoes_integracao").select("*").eq("ativa",!0);e.tipo&&(a=a.eq("tipo",e.tipo)),e.nivel_complexidade&&(a=a.eq("nivel_complexidade",e.nivel_complexidade)),e.area_aplicacao&&(a=a.ilike("area_aplicacao","%".concat(e.area_aplicacao,"%"))),e.search&&(a=a.or("nome.ilike.%".concat(e.search,"%,descricao.ilike.%").concat(e.search,"%"))),a=e.orderBy?a.order(e.orderBy,{ascending:e.ascending}):a.order("created_at",{ascending:!1});let{data:s,error:t}=await a;if(t)throw console.error("Erro ao buscar sugest\xf5es:",t),t;return s},async getSuggestionsByCompatibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let a=e.map(e=>"compativel_com.cs.{".concat(e,"}")).join(","),{data:s,error:t}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(t)throw console.error("Erro ao buscar por compatibilidade:",t),t;return s},async getSuggestionsByTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let a=e.map(e=>"tags.cs.{".concat(e,"}")).join(","),{data:s,error:t}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(t)throw console.error("Erro ao buscar por tags:",t),t;return s},async getSuggestionById(e){let{data:a,error:s}=await i.from("sugestoes_integracao").select("*").eq("id",e).single();if(s)throw console.error("Erro ao buscar sugest\xe3o:",s),s;return a},async createSuggestion(e){let{data:a,error:s}=await i.from("sugestoes_integracao").insert([e]).select();if(s)throw console.error("Erro ao criar sugest\xe3o:",s),s;return a[0]},async updateSuggestion(e,a){let{data:s,error:t}=await i.from("sugestoes_integracao").update(a).eq("id",e).select();if(t)throw console.error("Erro ao atualizar sugest\xe3o:",t),t;return s[0]},async deactivateSuggestion(e){let{data:a,error:s}=await i.from("sugestoes_integracao").update({ativa:!1}).eq("id",e).select();if(s)throw console.error("Erro ao desativar sugest\xe3o:",s),s;return a[0]},async getSuggestionStats(){let{data:e,error:a}=await i.rpc("get_suggestion_stats_by_type"),{data:s,error:t}=await i.rpc("get_suggestion_stats_by_complexity");if(a||t)throw console.error("Erro ao buscar estat\xedsticas:",a||t),a||t;return{byType:e||[],byComplexity:s||[]}}};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.a)({queryKey:["suggestions",e],queryFn:()=>n.getAllSuggestions(e)})}function c(e){return(0,t.a)({queryKey:["suggestion",e],queryFn:()=>n.getSuggestionById(e),enabled:!!e})}function d(){let e=(0,l.NL)();return(0,r.D)({mutationFn:e=>n.createSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}function u(){let e=(0,l.NL)();return(0,r.D)({mutationFn:e=>{let{id:a,updates:s}=e;return n.updateSuggestion(a,s)},onSuccess:a=>{e.invalidateQueries({queryKey:["suggestions"]}),e.invalidateQueries({queryKey:["suggestion",a.id]})}})}function g(){let e=(0,l.NL)();return(0,r.D)({mutationFn:e=>n.deactivateSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}}},function(e){e.O(0,[648,645,971,117,744],function(){return e(e.s=6297)}),_N_E=e.O()}]);