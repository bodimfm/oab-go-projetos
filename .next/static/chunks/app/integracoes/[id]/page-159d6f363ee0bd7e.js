(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{9832:function(e,t,s){Promise.resolve().then(s.bind(s,2291))},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2291:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(9376),i=s(8316),n=s(2979),o=s(9827),c=s(7648),l=s(2265);let d=new n.S;function u(){let e=(0,r.useParams)(),t=(0,r.useRouter)(),{id:s}=e,[n,o]=(0,l.useState)(!1),{data:d,isLoading:u,isError:m,error:g}=(0,i.BD)(s),x=(0,i.Jj)(),h=async()=>{if(confirm("Tem certeza que deseja desativar esta sugest\xe3o?")){o(!0);try{await x.mutateAsync(s),t.push("/integracoes")}catch(e){console.error("Erro ao desativar:",e),o(!1)}}};return u?(0,a.jsx)("div",{className:"flex justify-center p-10",children:"Carregando detalhes..."}):m?(0,a.jsxs)("div",{className:"text-red-500 p-5",children:["Erro ao carregar detalhes: ",g.message]}):d?(0,a.jsxs)("div",{className:"max-w-5xl mx-auto p-4 md:p-6 lg:p-8",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(c.default,{href:"/integracoes",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voltar para lista"]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6 md:p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-md text-sm font-medium ".concat({api:"bg-blue-100 text-blue-800",software:"bg-purple-100 text-purple-800",servico:"bg-indigo-100 text-indigo-800",outra:"bg-gray-100 text-gray-800"}[d.tipo]||"bg-gray-100"),children:d.tipo.charAt(0).toUpperCase()+d.tipo.slice(1)}),(0,a.jsxs)("span",{className:"px-3 py-1 rounded-md text-sm font-medium ".concat({baixa:"bg-green-100 text-green-800",media:"bg-yellow-100 text-yellow-800",alta:"bg-red-100 text-red-800"}[d.nivel_complexidade]||"bg-gray-100"),children:["Complexidade ",{baixa:"Baixa",media:"M\xe9dia",alta:"Alta"}[d.nivel_complexidade]||d.nivel_complexidade]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.default,{href:"/integracoes/editar/".concat(s),className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Editar"}),(0,a.jsx)("button",{onClick:h,disabled:n,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-red-300",children:n?"Desativando...":"Desativar"})]})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:d.nome}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Descri\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-gray-700",children:d.descricao})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"\xc1rea de Aplica\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-gray-700",children:d.area_aplicacao})]}),d.beneficios&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Benef\xedcios"}),(0,a.jsx)("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:d.beneficios.split(";").map((e,t)=>(0,a.jsx)("li",{children:e.trim()},t))})]}),d.detalhes_tecnicos&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Detalhes T\xe9cnicos"}),(0,a.jsx)("p",{className:"text-gray-700",children:d.detalhes_tecnicos})]}),d.pre_requisitos&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Pr\xe9-requisitos"}),(0,a.jsx)("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:d.pre_requisitos.split(";").map((e,t)=>(0,a.jsx)("li",{children:e.trim()},t))})]})]}),(0,a.jsxs)("div",{className:"border-t my-8 pt-8 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:[d.tempo_implementacao&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tempo de Implementa\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-gray-700",children:d.tempo_implementacao})]}),d.custo_estimado&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Custo Estimado"}),(0,a.jsx)("p",{className:"text-gray-700",children:d.custo_estimado})]}),d.compativel_com&&d.compativel_com.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Compat\xedvel com"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.compativel_com.map(e=>(0,a.jsx)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-800 rounded-md text-sm",children:e},e))})]}),d.url_documentacao&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Documenta\xe7\xe3o"}),(0,a.jsx)("a",{href:d.url_documentacao,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Acessar documenta\xe7\xe3o externa"})]})]}),d.tags&&d.tags.length>0&&(0,a.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map(e=>(0,a.jsx)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-800 rounded-md text-sm",children:e},e))})]}),(0,a.jsx)("div",{className:"border-t pt-8 mt-8 flex justify-center",children:(0,a.jsx)("button",{className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",onClick:()=>{alert("Funcionalidade de solicita\xe7\xe3o de integra\xe7\xe3o ser\xe1 implementada.")},children:"Solicitar esta integra\xe7\xe3o"})})]})})]}):(0,a.jsx)("div",{className:"p-5",children:"Sugest\xe3o n\xe3o encontrada"})}function m(){return(0,a.jsx)(o.aH,{client:d,children:(0,a.jsx)(u,{})})}},8316:function(e,t,s){"use strict";s.d(t,{Ib:function(){return d},Jj:function(){return m},BD:function(){return l},fB:function(){return c},fD:function(){return u}});var a=s(1713),r=s(9827),i=s(1770);let n=(0,s(7026).eI)("https://qnsbjljmnflihwcovuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2JqbGptbmZsaWh3Y292dXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NjcyNjQsImV4cCI6MjA2MjU0MzI2NH0.UWGXOyL8J7e11W_CE3zIo5bn-5LwKQ1YtAS1V72DTtk"),o={async getAllSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.from("sugestoes_integracao").select("*").eq("ativa",!0);e.tipo&&(t=t.eq("tipo",e.tipo)),e.nivel_complexidade&&(t=t.eq("nivel_complexidade",e.nivel_complexidade)),e.area_aplicacao&&(t=t.ilike("area_aplicacao","%".concat(e.area_aplicacao,"%"))),e.search&&(t=t.or("nome.ilike.%".concat(e.search,"%,descricao.ilike.%").concat(e.search,"%"))),t=e.orderBy?t.order(e.orderBy,{ascending:e.ascending}):t.order("created_at",{ascending:!1});let{data:s,error:a}=await t;if(a)throw console.error("Erro ao buscar sugest\xf5es:",a),a;return s},async getSuggestionsByCompatibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let t=e.map(e=>"compativel_com.cs.{".concat(e,"}")).join(","),{data:s,error:a}=await n.from("sugestoes_integracao").select("*").eq("ativa",!0).or(t);if(a)throw console.error("Erro ao buscar por compatibilidade:",a),a;return s},async getSuggestionsByTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let t=e.map(e=>"tags.cs.{".concat(e,"}")).join(","),{data:s,error:a}=await n.from("sugestoes_integracao").select("*").eq("ativa",!0).or(t);if(a)throw console.error("Erro ao buscar por tags:",a),a;return s},async getSuggestionById(e){let{data:t,error:s}=await n.from("sugestoes_integracao").select("*").eq("id",e).single();if(s)throw console.error("Erro ao buscar sugest\xe3o:",s),s;return t},async createSuggestion(e){let{data:t,error:s}=await n.from("sugestoes_integracao").insert([e]).select();if(s)throw console.error("Erro ao criar sugest\xe3o:",s),s;return t[0]},async updateSuggestion(e,t){let{data:s,error:a}=await n.from("sugestoes_integracao").update(t).eq("id",e).select();if(a)throw console.error("Erro ao atualizar sugest\xe3o:",a),a;return s[0]},async deactivateSuggestion(e){let{data:t,error:s}=await n.from("sugestoes_integracao").update({ativa:!1}).eq("id",e).select();if(s)throw console.error("Erro ao desativar sugest\xe3o:",s),s;return t[0]},async getSuggestionStats(){let{data:e,error:t}=await n.rpc("get_suggestion_stats_by_type"),{data:s,error:a}=await n.rpc("get_suggestion_stats_by_complexity");if(t||a)throw console.error("Erro ao buscar estat\xedsticas:",t||a),t||a;return{byType:e||[],byComplexity:s||[]}}};function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.a)({queryKey:["suggestions",e],queryFn:()=>o.getAllSuggestions(e)})}function l(e){return(0,a.a)({queryKey:["suggestion",e],queryFn:()=>o.getSuggestionById(e),enabled:!!e})}function d(){let e=(0,r.NL)();return(0,i.D)({mutationFn:e=>o.createSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}function u(){let e=(0,r.NL)();return(0,i.D)({mutationFn:e=>{let{id:t,updates:s}=e;return o.updateSuggestion(t,s)},onSuccess:t=>{e.invalidateQueries({queryKey:["suggestions"]}),e.invalidateQueries({queryKey:["suggestion",t.id]})}})}function m(){let e=(0,r.NL)();return(0,i.D)({mutationFn:e=>o.deactivateSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}}},function(e){e.O(0,[648,645,971,117,744],function(){return e(e.s=9832)}),_N_E=e.O()}]);