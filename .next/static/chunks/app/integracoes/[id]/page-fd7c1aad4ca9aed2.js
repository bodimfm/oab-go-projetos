(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{9832:function(e,s,a){Promise.resolve().then(a.bind(a,1538))},1538:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return p}});var t=a(7437),r=a(9376),i=a(1713),o=a(9827),l=a(1770);let c=(0,a(7026).eI)("https://qnsbjljmnflihwcovuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2JqbGptbmZsaWh3Y292dXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NjcyNjQsImV4cCI6MjA2MjU0MzI2NH0.UWGXOyL8J7e11W_CE3zIo5bn-5LwKQ1YtAS1V72DTtk"),n={async getAllSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=c.from("sugestoes_integracao").select("*").eq("ativa",!0);e.tipo&&(s=s.eq("tipo",e.tipo)),e.nivel_complexidade&&(s=s.eq("nivel_complexidade",e.nivel_complexidade)),e.area_aplicacao&&(s=s.ilike("area_aplicacao","%".concat(e.area_aplicacao,"%"))),e.search&&(s=s.or("nome.ilike.%".concat(e.search,"%,descricao.ilike.%").concat(e.search,"%"))),s=e.orderBy?s.order(e.orderBy,{ascending:e.ascending}):s.order("created_at",{ascending:!1});let{data:a,error:t}=await s;if(t)throw console.error("Erro ao buscar sugest\xf5es:",t),t;return a},async getSuggestionsByCompatibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let s=e.map(e=>"compativel_com.cs.{".concat(e,"}")).join(","),{data:a,error:t}=await c.from("sugestoes_integracao").select("*").eq("ativa",!0).or(s);if(t)throw console.error("Erro ao buscar por compatibilidade:",t),t;return a},async getSuggestionsByTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];let s=e.map(e=>"tags.cs.{".concat(e,"}")).join(","),{data:a,error:t}=await c.from("sugestoes_integracao").select("*").eq("ativa",!0).or(s);if(t)throw console.error("Erro ao buscar por tags:",t),t;return a},async getSuggestionById(e){let{data:s,error:a}=await c.from("sugestoes_integracao").select("*").eq("id",e).single();if(a)throw console.error("Erro ao buscar sugest\xe3o:",a),a;return s},async createSuggestion(e){let{data:s,error:a}=await c.from("sugestoes_integracao").insert([e]).select();if(a)throw console.error("Erro ao criar sugest\xe3o:",a),a;return s[0]},async updateSuggestion(e,s){let{data:a,error:t}=await c.from("sugestoes_integracao").update(s).eq("id",e).select();if(t)throw console.error("Erro ao atualizar sugest\xe3o:",t),t;return a[0]},async deactivateSuggestion(e){let{data:s,error:a}=await c.from("sugestoes_integracao").update({ativa:!1}).eq("id",e).select();if(a)throw console.error("Erro ao desativar sugest\xe3o:",a),a;return s[0]},async getSuggestionStats(){let{data:e,error:s}=await c.rpc("get_suggestion_stats_by_type"),{data:a,error:t}=await c.rpc("get_suggestion_stats_by_complexity");if(s||t)throw console.error("Erro ao buscar estat\xedsticas:",s||t),s||t;return{byType:e||[],byComplexity:a||[]}}};var d=a(2979),m=a(7648),g=a(2265);let x=new d.S;function u(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),{id:a}=e,[c,d]=(0,g.useState)(!1),{data:x,isLoading:u,isError:p,error:h}=(0,i.a)({queryKey:["suggestion",a],queryFn:()=>n.getSuggestionById(a),enabled:!!a}),b=function(){let e=(0,o.NL)();return(0,l.D)({mutationFn:e=>n.deactivateSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}(),j=async()=>{if(confirm("Tem certeza que deseja desativar esta sugest\xe3o?")){d(!0);try{await b.mutateAsync(a),s.push("/integracoes")}catch(e){console.error("Erro ao desativar:",e),d(!1)}}};return u?(0,t.jsx)("div",{className:"flex justify-center p-10",children:"Carregando detalhes..."}):p?(0,t.jsxs)("div",{className:"text-red-500 p-5",children:["Erro ao carregar detalhes: ",h.message]}):x?(0,t.jsxs)("div",{className:"max-w-5xl mx-auto p-4 md:p-6 lg:p-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(m.default,{href:"/integracoes",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voltar para lista"]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-md text-sm font-medium ".concat({api:"bg-blue-100 text-blue-800",software:"bg-purple-100 text-purple-800",servico:"bg-indigo-100 text-indigo-800",outra:"bg-gray-100 text-gray-800"}[x.tipo]||"bg-gray-100"),children:x.tipo.charAt(0).toUpperCase()+x.tipo.slice(1)}),(0,t.jsxs)("span",{className:"px-3 py-1 rounded-md text-sm font-medium ".concat({baixa:"bg-green-100 text-green-800",media:"bg-yellow-100 text-yellow-800",alta:"bg-red-100 text-red-800"}[x.nivel_complexidade]||"bg-gray-100"),children:["Complexidade ",{baixa:"Baixa",media:"M\xe9dia",alta:"Alta"}[x.nivel_complexidade]||x.nivel_complexidade]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m.default,{href:"/integracoes/editar/".concat(a),className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Editar"}),(0,t.jsx)("button",{onClick:j,disabled:c,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-red-300",children:c?"Desativando...":"Desativar"})]})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:x.nome}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Descri\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.descricao})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"\xc1rea de Aplica\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.area_aplicacao})]}),x.beneficios&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Benef\xedcios"}),(0,t.jsx)("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:x.beneficios.split(";").map((e,s)=>(0,t.jsx)("li",{children:e.trim()},s))})]}),x.detalhes_tecnicos&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Detalhes T\xe9cnicos"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.detalhes_tecnicos})]}),x.pre_requisitos&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Pr\xe9-requisitos"}),(0,t.jsx)("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:x.pre_requisitos.split(";").map((e,s)=>(0,t.jsx)("li",{children:e.trim()},s))})]})]}),(0,t.jsxs)("div",{className:"border-t my-8 pt-8 grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:[x.tempo_implementacao&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tempo de Implementa\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.tempo_implementacao})]}),x.custo_estimado&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Custo Estimado"}),(0,t.jsx)("p",{className:"text-gray-700",children:x.custo_estimado})]}),x.compativel_com&&x.compativel_com.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Compat\xedvel com"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.compativel_com.map(e=>(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-800 rounded-md text-sm",children:e},e))})]}),x.url_documentacao&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Documenta\xe7\xe3o"}),(0,t.jsx)("a",{href:x.url_documentacao,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Acessar documenta\xe7\xe3o externa"})]})]}),x.tags&&x.tags.length>0&&(0,t.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:x.tags.map(e=>(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-800 rounded-md text-sm",children:e},e))})]}),(0,t.jsx)("div",{className:"border-t pt-8 mt-8 flex justify-center",children:(0,t.jsx)("button",{className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",onClick:()=>{alert("Funcionalidade de solicita\xe7\xe3o de integra\xe7\xe3o ser\xe1 implementada.")},children:"Solicitar esta integra\xe7\xe3o"})})]})})]}):(0,t.jsx)("div",{className:"p-5",children:"Sugest\xe3o n\xe3o encontrada"})}function p(){return(0,t.jsx)(o.aH,{client:x,children:(0,t.jsx)(u,{})})}}},function(e){e.O(0,[648,210,971,117,744],function(){return e(e.s=9832)}),_N_E=e.O()}]);