"use strict";(()=>{var e={};e.id=764,e.ids=[764,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},7125:(e,t,r)=>{r.r(t),r.d(t,{config:()=>S,default:()=>g,getServerSideProps:()=>P,getStaticPaths:()=>f,getStaticProps:()=>b,reportWebVitals:()=>v,routeModule:()=>_,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>j});var a={};r.r(a),r.d(a,{default:()=>h});var s=r(7093),n=r(5244),o=r(1323),l=r(1682),i=r.n(l),c=r(7581),d=r(997),u=r(6689),m=r(4176),p=r(1163),x=r(968);function h(){let[e,t]=(0,u.useState)(""),[r,a]=(0,u.useState)(""),{user:s,alterarSenha:n,loading:o,isAuthenticated:l}=(0,m.a)(),[i,c]=(0,u.useState)(""),[h,g]=(0,u.useState)(""),b=(0,p.useRouter)(),f=async t=>{if(t.preventDefault(),c(""),g(""),!e||!r){c("Preencha todos os campos.");return}if(e.length<6){c("A senha deve ter pelo menos 6 caracteres.");return}if(e!==r){c("As senhas n\xe3o coincidem.");return}let a=await n(e);a.error?c(a.error):(g("Senha alterada com sucesso!"),setTimeout(()=>{b.push("/")},2e3))};return(0,d.jsxs)(d.Fragment,{children:[d.jsx(x,{children:d.jsx("title",{children:"Alterar Senha | OAB-GO Projetos"})}),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,d.jsxs)("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[d.jsx("img",{src:"/images/logo-oabgo.png",alt:"OAB-GO",className:"h-20 mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Alterar Senha"}),d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s?.primeiro_acesso?"Como \xe9 seu primeiro acesso, voc\xea precisa alterar sua senha":"Escolha uma nova senha para sua conta"})]}),i&&d.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:d.jsx("span",{className:"block sm:inline",children:i})}),h&&(0,d.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:h}),d.jsx("p",{className:"text-sm mt-1",children:"Redirecionando..."})]}),(0,d.jsxs)("form",{onSubmit:f,children:[(0,d.jsxs)("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"senha",children:"Nova Senha"}),d.jsx("input",{id:"senha",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"••••••••",value:e,onChange:e=>t(e.target.value),disabled:o}),d.jsx("p",{className:"text-xs italic text-gray-600 mt-1",children:"M\xednimo de 6 caracteres"})]}),(0,d.jsxs)("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmacaoSenha",children:"Confirme a Nova Senha"}),d.jsx("input",{id:"confirmacaoSenha",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"••••••••",value:r,onChange:e=>a(e.target.value),disabled:o})]}),d.jsx("div",{className:"flex flex-col gap-4",children:d.jsx("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:o,children:o?"Alterando...":"Alterar Senha"})})]})]})})]})}let g=(0,o.l)(a,"default"),b=(0,o.l)(a,"getStaticProps"),f=(0,o.l)(a,"getStaticPaths"),P=(0,o.l)(a,"getServerSideProps"),S=(0,o.l)(a,"config"),v=(0,o.l)(a,"reportWebVitals"),j=(0,o.l)(a,"unstable_getStaticProps"),y=(0,o.l)(a,"unstable_getStaticPaths"),A=(0,o.l)(a,"unstable_getStaticParams"),N=(0,o.l)(a,"unstable_getServerProps"),w=(0,o.l)(a,"unstable_getServerSideProps"),_=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/alterar-senha",pathname:"/alterar-senha",bundlePath:"",filename:""},components:{App:c.default,Document:i()},userland:a})},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},8220:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[309,343,682,581],()=>r(7125));module.exports=a})();