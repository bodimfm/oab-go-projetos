"use strict";exports.id=885,exports.ids=[885],exports.modules={5885:(e,a,r)=>{r.d(a,{Z:()=>i});var s=r(326);r(7577);var t=r(4723),o=r(5989);function i({suggestion:e,onSuccess:a,onCancel:r}){let i=!!e,{register:l,handleSubmit:d,reset:c,formState:{errors:n}}=(0,t.cI)({defaultValues:i?{...e,compativel_com:e.compativel_com?.join(", ")||"",tags:e.tags?.join(", ")||""}:{nome:"",descricao:"",tipo:"api",area_aplicacao:"",detalhes_tecnicos:"",url_documentacao:"",beneficios:"",nivel_complexidade:"media",custo_estimado:"",tempo_implementacao:"",pre_requisitos:"",compativel_com:"",tags:"",ativa:!0}}),m=(0,o.Ib)(),u=(0,o.fD)();return(0,s.jsxs)("form",{onSubmit:d(r=>{let s={...r,compativel_com:r.compativel_com?r.compativel_com.split(",").map(e=>e.trim()).filter(Boolean):[],tags:r.tags?r.tags.split(",").map(e=>e.trim()).filter(Boolean):[]};i?u.mutate({id:e.id,updates:s},{onSuccess:()=>{a?.()}}):m.mutate(s,{onSuccess:()=>{c(),a?.()}})}),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Integra\xe7\xe3o*"}),s.jsx("input",{type:"text",className:`w-full px-4 py-2 border rounded-md ${n.nome?"border-red-500":"border-gray-300"}`,...l("nome",{required:"Nome \xe9 obrigat\xf3rio"})}),n.nome&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.nome.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Integra\xe7\xe3o*"}),(0,s.jsxs)("select",{className:`w-full px-4 py-2 border rounded-md ${n.tipo?"border-red-500":"border-gray-300"}`,...l("tipo",{required:"Tipo \xe9 obrigat\xf3rio"}),children:[s.jsx("option",{value:"api",children:"API"}),s.jsx("option",{value:"software",children:"Software"}),s.jsx("option",{value:"servico",children:"Servi\xe7o"}),s.jsx("option",{value:"outra",children:"Outra"})]}),n.tipo&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.tipo.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc1rea de Aplica\xe7\xe3o*"}),s.jsx("input",{type:"text",className:`w-full px-4 py-2 border rounded-md ${n.area_aplicacao?"border-red-500":"border-gray-300"}`,...l("area_aplicacao",{required:"\xc1rea de aplica\xe7\xe3o \xe9 obrigat\xf3ria"})}),n.area_aplicacao&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.area_aplicacao.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xedvel de Complexidade*"}),(0,s.jsxs)("select",{className:`w-full px-4 py-2 border rounded-md ${n.nivel_complexidade?"border-red-500":"border-gray-300"}`,...l("nivel_complexidade",{required:"N\xedvel de complexidade \xe9 obrigat\xf3rio"}),children:[s.jsx("option",{value:"baixa",children:"Baixa"}),s.jsx("option",{value:"media",children:"M\xe9dia"}),s.jsx("option",{value:"alta",children:"Alta"})]}),n.nivel_complexidade&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.nivel_complexidade.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Documenta\xe7\xe3o"}),s.jsx("input",{type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-md",...l("url_documentacao")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compat\xedvel com (separar por v\xedrgulas)"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Comiss\xe3o de Direito Digital, Comiss\xe3o de IA",...l("compativel_com")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separar por v\xedrgulas)"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: automa\xe7\xe3o, documentos, IA",...l("tags")})]}),(0,s.jsxs)("div",{className:"flex items-center mt-4",children:[s.jsx("input",{type:"checkbox",id:"ativa",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",...l("ativa")}),s.jsx("label",{htmlFor:"ativa",className:"ml-2 block text-sm text-gray-700",children:"Ativa (vis\xedvel para usu\xe1rios)"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o*"}),s.jsx("textarea",{rows:4,className:`w-full px-4 py-2 border rounded-md ${n.descricao?"border-red-500":"border-gray-300"}`,...l("descricao",{required:"Descri\xe7\xe3o \xe9 obrigat\xf3ria"})}),n.descricao&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.descricao.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Benef\xedcios (separar por ponto e v\xedrgula)"}),s.jsx("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Redu\xe7\xe3o de tempo; Maior precis\xe3o; Melhor experi\xeancia",...l("beneficios")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detalhes T\xe9cnicos"}),s.jsx("textarea",{rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md",...l("detalhes_tecnicos")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9-requisitos (separar por ponto e v\xedrgula)"}),s.jsx("textarea",{rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Aprova\xe7\xe3o da diretoria; Recursos dispon\xedveis",...l("pre_requisitos")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo Estimado"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Baixo, M\xe9dio, Alto ou valor espec\xedfico",...l("custo_estimado")})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Implementa\xe7\xe3o"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 15 a 30 dias",...l("tempo_implementacao")})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[s.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",onClick:r,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:m.isPending||u.isPending,children:m.isPending||u.isPending?"Salvando...":i?"Atualizar Sugest\xe3o":"Criar Sugest\xe3o"})]})]})}},5989:(e,a,r)=>{r.d(a,{Ib:()=>n,Jj:()=>u,BD:()=>c,fB:()=>d,fD:()=>m});var s=r(1459),t=r(4976),o=r(119);let i=(0,r(6292).eI)("https://qnsbjljmnflihwcovuwz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuc2JqbGptbmZsaWh3Y292dXd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NjcyNjQsImV4cCI6MjA2MjU0MzI2NH0.UWGXOyL8J7e11W_CE3zIo5bn-5LwKQ1YtAS1V72DTtk"),l={async getAllSuggestions(e={}){let a=i.from("sugestoes_integracao").select("*").eq("ativa",!0);e.tipo&&(a=a.eq("tipo",e.tipo)),e.nivel_complexidade&&(a=a.eq("nivel_complexidade",e.nivel_complexidade)),e.area_aplicacao&&(a=a.ilike("area_aplicacao",`%${e.area_aplicacao}%`)),e.search&&(a=a.or(`nome.ilike.%${e.search}%,descricao.ilike.%${e.search}%`)),a=e.orderBy?a.order(e.orderBy,{ascending:e.ascending}):a.order("created_at",{ascending:!1});let{data:r,error:s}=await a;if(s)throw console.error("Erro ao buscar sugest\xf5es:",s),s;return r},async getSuggestionsByCompatibility(e=[]){if(!e.length)return[];let a=e.map(e=>`compativel_com.cs.{${e}}`).join(","),{data:r,error:s}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(s)throw console.error("Erro ao buscar por compatibilidade:",s),s;return r},async getSuggestionsByTags(e=[]){if(!e.length)return[];let a=e.map(e=>`tags.cs.{${e}}`).join(","),{data:r,error:s}=await i.from("sugestoes_integracao").select("*").eq("ativa",!0).or(a);if(s)throw console.error("Erro ao buscar por tags:",s),s;return r},async getSuggestionById(e){let{data:a,error:r}=await i.from("sugestoes_integracao").select("*").eq("id",e).single();if(r)throw console.error("Erro ao buscar sugest\xe3o:",r),r;return a},async createSuggestion(e){let{data:a,error:r}=await i.from("sugestoes_integracao").insert([e]).select();if(r)throw console.error("Erro ao criar sugest\xe3o:",r),r;return a[0]},async updateSuggestion(e,a){let{data:r,error:s}=await i.from("sugestoes_integracao").update(a).eq("id",e).select();if(s)throw console.error("Erro ao atualizar sugest\xe3o:",s),s;return r[0]},async deactivateSuggestion(e){let{data:a,error:r}=await i.from("sugestoes_integracao").update({ativa:!1}).eq("id",e).select();if(r)throw console.error("Erro ao desativar sugest\xe3o:",r),r;return a[0]},async getSuggestionStats(){let{data:e,error:a}=await i.rpc("get_suggestion_stats_by_type"),{data:r,error:s}=await i.rpc("get_suggestion_stats_by_complexity");if(a||s)throw console.error("Erro ao buscar estat\xedsticas:",a||s),a||s;return{byType:e||[],byComplexity:r||[]}}};function d(e={}){return(0,s.a)({queryKey:["suggestions",e],queryFn:()=>l.getAllSuggestions(e)})}function c(e){return(0,s.a)({queryKey:["suggestion",e],queryFn:()=>l.getSuggestionById(e),enabled:!!e})}function n(){let e=(0,t.NL)();return(0,o.D)({mutationFn:e=>l.createSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}function m(){let e=(0,t.NL)();return(0,o.D)({mutationFn:({id:e,updates:a})=>l.updateSuggestion(e,a),onSuccess:a=>{e.invalidateQueries({queryKey:["suggestions"]}),e.invalidateQueries({queryKey:["suggestion",a.id]})}})}function u(){let e=(0,t.NL)();return(0,o.D)({mutationFn:e=>l.deactivateSuggestion(e),onSuccess:()=>{e.invalidateQueries({queryKey:["suggestions"]})}})}}};